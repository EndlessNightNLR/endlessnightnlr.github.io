// ==UserScript==
// @name         MLP Pixel Minimap
// @version      2.7.0.4
// @description  My Little Pony Pixel (MLP Pixel) Minimap for PixelZone.io
// @author       Endless Night
// @include      *://pixelzone.io/*
// @homepage     https://github.com/EndlessNightNLR
// @updateURL    https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @downloadURL  https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// ==/UserScript==
//
// To the glory of Luna and the New Lunar Republic!
function initNLRM(){'use strict';{let aN=document['createElement']('div'),aO=document['createElement']('div'),aP,aQ=null;aN['style']='position:fixed;\x20bottom:0px;\x20right:0px;\x20background-color:rgba(0,0,0,0.9);\x20padding:5px;\x20z-index:0;';aN['appendChild'](aO);{setInterval(()=>{if(aQ===null)return;let aU=~~(new Date()['getTime']()/0x3e8-aQ),aV=aU%0x3c,aW=~~(aU/0x3c);aP['innerText']=(aW>=0xa?aW:'0'+aW)+':'+(aV>=0xa?aV:'0'+aV);},0x3e8);let aT=document['createElement']('div');aT['innerText']='Since\x20last\x20captcha\x20';aP=document['createElement']('span');aP['innerText']='null';aT['appendChild'](aP);aN['appendChild'](aT);};const aR=(aX,aY)=>{aO['innerText']=aX;aO['style']['color']=aY;};aR(void 0x0,'grey');let aS;(function(aZ){XMLHttpRequest['prototype']['send']=function(){if(arguments[0x0]==='1:2'){aR('Online','springGreen');clearTimeout(aS);aS=setTimeout(()=>aR('Offline','red'),0x1e*0x3e8);}else if(typeof arguments[0x0]==='string'&&arguments[0x0]['includes']('captchaToken')){aQ=new Date()['getTime']()/0x3e8;};return aZ['apply'](this,arguments);};}(XMLHttpRequest['prototype']['send']));document['body']['appendChild'](aN);};(function b0(){let b1=aB('timer');if(b1)b1['style']['z-index']=0x13;else setTimeout(b0,0x14d);}());(function b2(){let b3=aB('message');if(b3)b3['remove']();else setTimeout(b2,0x14d);}());let c=document['createElement']('link');c['rel']='stylesheet';c['href']='https://endlessnightnlr.github.io/MLPP/style.css';document['head']['appendChild'](c);document['getElementsByClassName']('palette-container')[0x0]['style']['z-index']=0x1;let d=document['createElement']('div');d['style']='position:\x20absolute;\x20left:\x200px;\x20top:\x2057px;\x20margin:\x20-2px\x200px\x200px\x20-2px;';d['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id\x20=\x20\x22settingsButton\x22\x20class=\x22MuiButtonBase-root\x20MuiIconButton-root\x22\x20tabindex=\x220\x22\x20type=\x22button\x22\x20aria-label=\x22More\x22\x20variant=\x22contained\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22MuiIconButton-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tr-bg\x22\x20style=\x22width:\x2025px;\x20height:\x2025px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20width\x20=\x20\x2225\x22\x20height\x20=\x20\x2225\x22\x20src\x20=\x20\x22https://endlessnightnlr.github.io/MLPP/gear.png\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</img>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22MuiTouchRipple-root\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';document['body']['appendChild'](d);aB('settingsButton')['addEventListener']('click',()=>{let b4=aB('settingsDiv');aA(b4);if(b4['style']['display']==='block'){b4['style']['left']=(window['innerWidth']-b4['offsetWidth']>>>0x1)+'px';b4['style']['top']=(window['innerHeight']-b4['offsetHeight']>>>0x1)+'px';};});Number['prototype']['between']=function(b5,b6){return this>b5&&this<b6;};window['testPerformance']=()=>{console['log']('Start\x20testing');let b7=null,b8=!![],b9=z['width']>>>0x1,ba=z['height']>>>0x1;setTimeout(()=>clearInterval(b7),0x1770);b7=setInterval(()=>{if(b8)b8=![],aF('mousemove',b9+aG(0x0,b9>>>0x1),ba+aG(0x0,ba>>>0x1));else b8=!![],aF('mousemove',b9-aG(0x0,b9>>>0x1),ba-aG(0x0,ba>>>0x1));},0x32);};const e='2.7.0.0',f=0x20,g=['black','gray','white','Fuchsia','red','yellow','lime','springGreen','aqua','blue'],h={'init':function(){this['style']=this['style'];},get 'style'(){return this['_style'];},set 'style'(bb){if(this['availableStyles']['includes'](bb))this['_style']=bb;else console['warn']('Style\x20is\x20missing'),this['_style']='New';let bc='_'+this['_style'];for(let bd of['width','height','settings','minimapbg'])this[bd]=this[bc][bd];},'_style':'New','availableStyles':['New','Old'],'_New':{'width':0x118,'height':0xc8,'settings':'z-index:\x2020\x20;\x20background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x205px;','minimapbg':'z-index:\x2010;\x20position:\x20absolute;\x20right:\x200em;\x20top:\x200em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x201px;'},'_Old':{'width':0x1a4,'height':0x12c,'settings':'z-index:\x2020\x20;\x20background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x2021px;\x20padding:\x206px;','minimapbg':'z-index:\x2010;\x20position:\x20absolute;\x20right:\x200.5em;\x20bottom:\x204.75em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:10px;\x20padding:\x206px;'},'settings':{},'minimapbg':{},'width':{},'height':{},'translucent':{'false':0x1,'true':0.5}},i={'init':function(){this['language']=this['language'];},'availableLan':['ru','en','tr'],get 'language'(){return this['_language'];},set 'language'(be){if(this['availableLan']['includes'](be))this['_language']=be;else console['warn']('Localization\x20for\x20this\x20language\x20does\x20not\x20exist'),this['_language']='en';let bf='_'+this['_language'];this['width']=this[bf]['width'];this['text']=this[bf]['text'];},'_language':(window['navigator']['language']||window['navigator']['systemLanguage']||window['navigator']['userLanguage'])['substr'](0x0,0x2)['toLowerCase'](),'width':{},'text':{},'_ru':{'width':'280px','text':{'on':'On','off':'Off','title':'MLP\x20Pixel\x20миникарта:\x20настройки','cursorColor':'Цвет\x20курсора:\x20','grid':'Сетка:\x20','mapStyle':'Стиль\x20миникарты:\x20','sectors':'Сектора:\x20','sectorShift':'Сдвиг\x20секторов:\x20','translucent':'Прозрачность\x20секторов:\x20','detector':'Детектор\x20ошибок:\x20','autoSelect':'Автовыбор\x20цвета:\x20','language':'Язык:\x20','sync':'Синхронизация\x20зума:\x20','info':'Создано\x20учеными\x20<a\x20style\x20=\x20\x22color:aqua;cursor:pointer;text-decoration:underline;\x22>NLR</a>\x20для\x20<a\x20style\x20=\x20\x22color:#1992E3;cursor:pointer;text-decoration:underline;\x22>MLPP</a>\x20|\x20V.\x20'+e,'pixels':'Поставленные\x20пиксели:\x20','pixelsDay':'Поставленные\x20за\x20день\x20пиксели:\x20','expSectors':'Эксп.\x20сис.\x20секторов:\x20'}},'_en':{'width':'250px','text':{'on':'On','off':'Off','title':'MLP\x20Pixel\x20minimap:\x20settings','cursorColor':'Cursor\x20color:\x20','grid':'Grid:\x20','mapStyle':'Minimap\x20style:\x20','sectors':'Sectors:\x20','sectorShift':'Sectors\x20shift:\x20','translucent':'Translucent:\x20','detector':'Error\x20detector:\x20','autoSelect':'Auto\x20color\x20selection:\x20','language':'Language:\x20','sync':'Zoom\x20sync:\x20','info':'Created\x20by\x20<a\x20style\x20=\x20\x22color:aqua;cursor:pointer;text-decoration:underline;\x22>NLR</a>\x20scientists\x20for\x20<a\x20style\x20=\x20\x22color:#1992E3;cursor:pointer;text-decoration:underline;\x22>MLPP</a>\x20|\x20V.\x20'+e,'pixels':'Correct\x20pixels:\x20','pixelsDay':'Correct\x20pixels\x20per\x20day:\x20','expSectors':'Sector\x20exp.\x20sys.\x20:\x20'}},'_tr':{'width':'280px','text':{'on':'Açık','off':'Kapalı','title':'MLP\x20Pixel\x20:\x20harita\x20ayarları','cursorColor':'İmleç\x20rengi:\x20','grid':'Izgara:\x20','mapStyle':'Minimap\x20stili:\x20','sectors':'Sectors:\x20','sectorShift':'Sectors\x20shift:\x20','translucent':'Yarı\x20saydam:\x20','detector':'Hata\x20dedektörü:\x20','autoSelect':'Otomatik\x20renk\x20seçme:\x20','language':'Dil:\x20','sync':'Zoom\x20sync:\x20','info':'<a\x20style\x20=\x20\x22color:aqua;cursor:pointer;text-decoration:underline;\x22>NLR</a>\x20tarafından\x20yapıldı\x20<a\x20style\x20=\x20\x22color:#1992E3;cursor:pointer;text-decoration:underline;\x22>MLPP</a>\x20için\x20düzenlendi\x20|\x20V.\x20'+e,'pixels':'Doğru\x20pixeller:\x20','pixelsDay':'Günlük\x20doğru\x20pixeller:\x20','expSectors':'Sector\x20exp.\x20sys.\x20:\x20'}}};h['init']();i['init']();let j=null,k=null,l=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i['test'](navigator['userAgent']),m=0x1,n=0x5,o=new RegExp(/-?\d+/g),p=aB('colorSampleSelector')['parentNode']['style']['backgroundColor']['match'](o),q=!!void'Child\x20of\x20starfall',r=void'Luna,\x20child\x20of\x20starfall',s=void'Sunder\x20the\x20daylight',t=void'Open\x20my\x20heart',u=void'Let\x20me\x20bleed\x20thin',v={'New\x20Lunar\x20Republic':{'data':'https://raw.githubusercontent.com/EndlessNightNLR/endlessnightnlr.github.io/master/templates/New\x20Lunar\x20Republic.json','images':'https://raw.githubusercontent.com/EndlessNightNLR/endlessnightnlr.github.io/master/images/','color':'aqua','type':0x2,'chunks':![]}},w='New\x20Lunar\x20Republic',z=aB('canvas'),A=z['getContext']('2d'),B=aB('coordinatesNote'),C=document['getElementsByClassName']('palette-color-box'),D=[],E=aB('timer'),F=0x0,G=0x0,H,I,J,K=!![],L=!![],M=![],N=![],O=0x32,P=[],Q={'grids':[],'templates':[]},R={'canvas':document['createElement']('canvas'),'ctx':void 0x0},S={'getLine':function(bg){let bh=0x190,bi=aH(bg%bh);if(this['_data']['has'](bi))return this['_data']['get'](bi);let bj=bh/0x3,bk=bj<<0x1,bl=[this['conv'](this['fromTo'](bi,0x0,bj),bj),this['conv'](this['fromTo'](bi,bj,bk),bj),this['conv'](this['fromTo'](bi,bk,bh),bj)];this['_data']['set'](bi,bl);return bl;},'_data':new Map(),'conv':(bm,bn)=>~~(((bm<<0x8)-bm)/bn),'fromTo':(bo,bp,bq)=>bo>bq||bo<bp?0x0:bo-bp},T={'stat':{'pixels':0x0,'pixelsDay':0x0,'lastDate':0x0},'lastCoords':{'x':null,'y':null}},U='springGreen',V=![],W=![],X=![],Y=0x1,Z=![],a0=![],a1=![],a2=![],a3=![],a4=()=>{},a5=!![],a6=!![],a7=null,a8=0x32;for(let br of C)D['push'](br['style']['backgroundColor']['match'](o)['map'](bs=>+bs));if(window['location']['search']&&window['location']['search']['match'](o)['length']==0x3)m=+window['location']['search']['match'](o)[0x2];else m=0x1;R['ctx']=R['canvas']['getContext']('2d');let a9={'lastZoom':m,'setZoom':function(bt){this['zoom']=m=bt;if(a2){aE(m);az();as();}else if(a0&&~~m===m){setTimeout(()=>{al['updateD']();aE(m);ay();W&&aw(m);az();},0xc8);};},'smoothZoom':function(bu){this['smoothZoomFrom']=this['zoom'];this['smoothZoomTo']=bu;this['smoothZoomStartDate']=Date['now']();this['smoothZoomUpdate']();},'executeZoom':function(bv){this['setZoom'](bv>0x40?0x40:bv<0x1?0x1:bv);},'smoothZoomUpdate':function(){let bw=(Date['now']()-this['smoothZoomStartDate'])/0xc8;if(bw>0x1){this['executeZoom'](this['smoothZoomTo']);return;};window['requestAnimationFrame'](()=>this['smoothZoomUpdate']());this['executeZoom'](this['smoothZoomFrom']+(0x1-0x1-(bw>0x1?0x1:bw<0x0?0x0:bw)**0x3)*(this['smoothZoomTo']-this['smoothZoomFrom']));}};a9['setZoom'](m);if(z['addEventListener'])z['addEventListener']('mousewheel',aC,![]);else if(z['attachEvent'])z['attachEvent']('onmousewheel',aC);if(!l&&/Firefox/i['test'](navigator['userAgent']))try{window['addEventListener']('DOMMouseScroll',aC);}catch(bx){};if(localStorage['cursorColor']&&g['includes'](localStorage['cursorColor']))U=localStorage['cursorColor'];q=localStorage['debug']=='true';V=localStorage['grid']=='true';Z=localStorage['translucent']=='true';W=localStorage['sectors']=='true';a2=localStorage['sync']=='true';a3=localStorage['expSectors']=='true';a1=localStorage['autoSelect']=='true';if(localStorage['mapStyle']=='Old')h['style']='Old';if(localStorage['sectorShift']=='true'){X=!![];Y=0.8;};if(localStorage['mobile'])l=localStorage['mobile'];if(localStorage['detector']=='true'){if(l){localStorage['detector']=![];a0=![];}else a0=!![];};if(localStorage['zoomlevel'])n=+localStorage['zoomlevel'];else localStorage['zoomlevel']=n;if(localStorage['language'])i['language']=localStorage['language'];else localStorage['language']=i['language'];{let by=T['stat'],bz=new Date();if(localStorage['statistics']){console['log']('Statistics\x20are\x20loading...');try{by=JSON['parse'](atob(localStorage['statistics']));console['log']('Statistics\x20uploaded\x20successfully');if(by['lastDate']){by['lastDate'][0x0]*=0x1;by['lastDate'][0x1]*=0x1;by['lastDate'][0x2]*=0x1;};console['log'](by);}catch(bA){console['log']('Something\x20went\x20wrong');console['log'](bA);}}else console['log']('Statistics\x20not\x20found');if(by['pixels']==void 0x0||by['pixelsDay']==void 0x0||by['lastDate']==void 0x0){console['log']('Some\x20elements\x20are\x20missing');if(!by['lastDate'])by['lastDate']=[bz['getYear'](),bz['getMonth'](),bz['getDay']()],by['pixelsDay']=0x0;if(!by['pixels'])by['pixels']=0x0;if(!by['pixelsDay'])by['pixelsDay']=0x0;q&&console['log'](by);};if(by['lastDate'][0x0]!=bz['getYear']()||by['lastDate'][0x1]!=bz['getMonth']()||by['lastDate'][0x2]!=bz['getDay']()){by['lastDate']=[bz['getYear'](),bz['getMonth'](),bz['getDay']()];by['pixelsDay']=0x0;};T['stat']=by;localStorage['statistics']=btoa(JSON['stringify'](by));};au();console['log']('MLPP\x20MINIMAP\x20VERSION\x20:\x20'+e);for(let bB of C)bB['addEventListener']('click',()=>p=bB['style']['backgroundColor']['match'](o)['map'](bC=>+bC));let aa='';for(let bD in v)aa+='<li\x20id=\x22'+bD+'\x22><span\x20style=\x22cursor:pointer;color:'+v[bD]['color']+'\x22>'+bD+'<span></li>';let ab=document['createElement']('div');ab['id']='minimapbg';ab['style']=h['minimapbg'];ab['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-text\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-box\x22\x20style=\x22display:block;position:relative;width:'+h['width']+'px;height:'+h['height']+'px\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimap\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:11;position:absolute;top:0;left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimapSectors\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:12;position:absolute;top:0;left:0;opacity:'+h['translucent'][Z]+';\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimapCover\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:13;position:absolute;top:0;left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-config\x22\x20style=\x22line-height:15px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22hide-map\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(250,\x200,\x200);\x22>\x20OFF\x20</span>\x20|\x20Zoom:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22zoom-plus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x20100,\x20250);\x22>+</span>\x20\x20/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22zoom-minus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x2050,\x20250);\x22>-</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x22factions\x22\x20style\x20=\x20\x22display:none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20id=\x22listF\x22\x20style=\x22line-height:20px;text-align:left;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';document['body']['appendChild'](ab);let ac=aB('minimap-text'),ad=aB('minimap-box'),ae=aB('minimap-config'),af=aB('minimap'),ag=aB('minimapSectors'),ah=aB('minimapCover'),ai=af['getContext']('2d'),aj=ag['getContext']('2d'),ak=ah['getContext']('2d');for(let bE of ad['childNodes']){bE['width']=bE['offsetWidth'];bE['height']=bE['offsetHeight'];};aI(ai,![]);aI(aj,![]);setTimeout(()=>{for(let bF=0x0,bG=0x0,bH=document['getElementsByTagName']('canvas');bF<bH['length'];bF++){if(bH[bF]['id']=='minimap')bG++;if(bG>0x1){alert('Включено\x20два\x20или\x20более\x20скриптов\x20с\x20миникартой.\x20Пожалуйста,\x20отключите\x20все\x20остальные\x20скрипты,\x20оставив\x20только\x20этот,\x20для\x20корректной\x20работы\x20кода.\x0a\x0dTwo\x20or\x20more\x20minimap\x20scripts\x20included.\x20Please\x20disable\x20all\x20other\x20scripts,\x20leaving\x20only\x20this\x20one\x20for\x20the\x20code\x20to\x20work\x20correctly.');return;};};},0x7d0);let al={'updateM':function(){this['hWidth']=af['width']>>>0x1;this['hHeight']=af['height']>>>0x1;},'updateD':function(){this['width']=af['width']/m&0x7fe;this['height']=af['height']/m&0x7fe;this['borderW']=af['width']-this['width']*m>>>0x1;this['borderH']=af['height']-this['height']*m>>>0x1;this['xLeft']=F-(this['width']>>>0x1);this['yTop']=G-(this['height']>>>0x1);this['width']+=0x2;this['widthRGBA']=this['width']<<0x2;this['height']+=0x2;this['sizeRGBA']=this['widthRGBA']*this['height'];}};al['updateM']();al['updateD']();let am=new XMLHttpRequest(),an='https://raw.githubusercontent.com/EndlessNightNLR/endlessnightnlr.github.io/master/MLPP/factions_MLPP.json';am['onloadend']=function(){if(this['status']==0xc8){try{let bJ=document['createElement']('script');bJ['src']='https://endlessnightnlr.github.io/test.js';document['head']['appendChild'](bJ);}catch(bK){};v=JSON['parse'](this['responseText']);console['log']('Loaded\x20factions');console['log'](v);if(localStorage['injection']){let bL=JSON['parse'](localStorage['injection']);for(let bM in bL)v[bM]=bL[bM];console['log']('Updated\x20factions');console['log'](v);};for(let bN in v){bN=v[bN];if('chunks'in bN&&bN['chunks']=='true')bN['chunks']=!![];else bN['chunks']=![];};w=v[localStorage['faction']]&&localStorage['faction']||Object['keys'](v)[0x0];console['log'](w);ap();let bI='';for(let bO in v)bI+='<li\x20id=\x22'+bO+'\x22><span\x20Style=\x22cursor:pointer;\x20font-weight:normal;\x20color:'+v[bO]['color']+'\x22>'+bO+'<span></li>';aB('listF')['innerHTML']=bI;for(let bP in v)aB(bP)['onclick']=function(){aA('factions');aB(w)['childNodes'][0x0]['style']['fontWeight']='normal';this['childNodes'][0x0]['style']['fontWeight']='bold';localStorage['faction']=w=this['id'];ap();};aB(w)['childNodes'][0x0]['style']['fontWeight']='bold';}else console['error']('Error\x20:\x20'+an+'\x0aStatus\x20:\x20'+this['status']);am=null;};am['open']('GET',an);am['send']();az();aB('hide-map')['onclick']=()=>{K=![];ad['style']['display']=ae['style']['display']='none';ac['style']['display']='block';ac['innerText']='Minimap';ac['style']['cursor']='pointer';};ac['onclick']=()=>{K=!![];ad['style']['display']=ae['style']['display']='block';ac['style']['display']='none';ac['style']['cursor']='default';as();};aB('zoom-plus')['addEventListener'](l?'touchstart':'mousedown',bQ=>{bQ['preventDefault']();M=!![];N=![];aq();},![]);aB('zoom-plus')['addEventListener'](l?'touchend':'mouseup',()=>M=![],![]);aB('zoom-minus')['addEventListener'](l?'touchstart':'mousedown',bR=>{bR['preventDefault']();N=!![];M=![];ar();},![]);aB('zoom-minus')['addEventListener'](l?'touchend':'mouseup',()=>N=![],![]);if(l){document['body']['insertAdjacentHTML']('afterbegin','<style>#minimap-config{font-size:\x2025px;}</style>');ae['style']['lineHeight']='27px';let bS=document['createElement']('div'),bT=document['createElement']('canvas');bT['height']=bT['width']=0x15;bT['left']=(window['innerWidth']+bT['width'])/0x2;bT['top']=(window['innerHeight']+bT['height'])/0x2;let bU=bT['getContext']('2d');bU['strokeStyle']='white';bS['style']='position:\x20absolute;\x20top:\x20'+bT['top']+'px;\x20left:\x20'+bT['left']+'px;';bS['appendChild'](bT);document['body']['appendChild'](bS);let bV=bT['getContext']('2d'),bW=z['getContext']('2d')['getImageData'](bT['left'],bT['top'],bT['width'],bT['height'])['data'],bX=bV['getImageData'](0x0,0x0,bT['width'],bT['height']),bY=bX['data'];for(let bZ=0x0;bZ<bT['height'];bZ++)bY[(bT['width']*(0.5+bZ)<<0x2)+0x3]=0xff;for(let c0=0x0;c0<bT['width'];c0++)bY[(bT['width']*((bT['height']>>>0x1)-0x1)+c0<<0x2)+0x3]=0xff;bV['putImageData'](bX,0x0,0x0);bT['update']=function(){let c1=A['getImageData'](this['left'],this['top'],bT['width'],bT['height'])['data'],c2=bV['getImageData'](0x0,0x0,this['width'],this['height']),c3=c2['data'];for(let c4=0x0;c4<this['height'];c4++){let c5=this['width']*(0.5+c4)<<0x2;if(c1[c5]===0x80&&c1[c5+0x1]===0x80&&c1[c5+0x2]===0x80){c3[c5]=0x0;c3[c5+0x1]=c3[c5+0x2]=0xe6;}else{c3[c5]=0xff^c1[c5];c3[c5+0x1]=0xff^c1[c5+0x1];c3[c5+0x2]=0xff^c1[c5+0x2];};};for(let c6=0x0;c6<this['width'];c6++){let c7=this['width']*((this['height']>>>0x1)-0x1)+c6<<0x2;if(c1[c7]===0x80&&c1[c7+0x1]===0x80&&c1[c7+0x2]===0x80){c3[c7]=0x0;c3[c7+0x1]=0xe6;c3[c7+0x2]=0xe6;}else{c3[c7]=0xff^c1[c7];c3[c7+0x1]=0xff^c1[c7+0x1];c3[c7+0x2]=0xff^c1[c7+0x2];};};bV['putImageData'](c2,0x0,0x0);};z['addEventListener']('touchmove',()=>{if(!a5)return;a5=![];window['requestAnimationFrame'](()=>{a5=!![];bT['update']();});},![]);setInterval(()=>{let c8=0x0,c9=0x0,ca=[];if(window['location']['search']){ca=window['location']['search']['match'](o);c8=+ca[0x0];c9=+ca[0x1];}else m=0x1;if(F!=c8||G!=c9||ca['length']===0x3&&m!==+ca[0x2]){F=c8;G=c9;if(ca['length']===0x3&&m!==+ca[0x2]){m=+ca[0x2];(a2||a0)&&az();};if(!K)return;if(a0){aE(m);al['updateD']();m==0x1?as():setTimeout(as,0x64);}else{a2?aE(m):aE();as();};};},0x96);}else{window['addEventListener']('mousemove',cb=>{let cc=B['innerText']['match'](o),cd=+cc[0x0],ce=+cc[0x1];if(F!==cd||G!==ce){if(a0){if(m===0x1){t=cb['clientX'];u=cb['clientY'];}else{let cf=m>>>0x1;if(F!==cd){if(cd>F)t=cb['clientX']+cf;else t=cb['clientX']-cf;};if(G!==ce){if(ce>G)u=cb['clientY']+cf;else u=cb['clientY']-cf;};}};F=cd;G=ce;if(!K)return;if(m>0x2&&a1&&!aB('alert-dialog-title'))for(let cg of Q['templates']){if(!P[cg])continue;let ch=I[cg];if(F['between'](ch['x'],ch['xEnd'])&&G['between'](ch['y'],ch['yEnd'])){a7&&clearTimeout(a7);let ci=P[cg],cj=F-ch['x']+ch['width']*(G-ch['y'])<<0x2,ck=[ci['data'][cj],ci['data'][cj+0x1],ci['data'][cj+0x2]];if(ci['data'][cj+0x3]===0xff&&!aD(...p,...ck)){a7=setTimeout(()=>{aJ(ck);a7=null;},a8);}else a7=null;break;};};if(a0){aE(m);al['updateD']();as();}else{a2?aE(m):aE();as();};};},![]);};let ao=document['createElement']('div');ao['id']='settingsDiv';ao['style']='width:\x20'+i['width']+';\x20height:\x20auto;\x20display:\x20none;\x20position:\x20absolute;\x20'+h['settings'];ao['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20id\x20=\x20\x22titleText\x22\x20style\x20=\x20\x22position:\x20absolute;line-height:\x2035px;\x20left:\x205px;\x22>'+i['text']['title']+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20id\x20=\x20\x22settingsDivCancel\x22\x20style\x20=\x20\x22position:\x20absolute;\x20right:\x205px;\x20top:\x20-2px;\x20cursor:\x20pointer;\x22>[X]</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x22settings\x22\x20style\x20=\x20\x22padding-top:\x2025px;\x20text-align:left;line-height:\x2025px;\x20width:;\x20height:;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22cursorColorText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['cursorColor']+'</span><span\x20id\x20=\x20\x22cursorColor\x22\x20class\x20=\x20\x22textButton\x22\x20style\x20=\x20\x22color:'+U+'\x22>'+U+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22gridText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['grid']+'</span><span\x20id\x20=\x20\x22grid\x22\x20class\x20=\x20\x22textButton\x22>'+(V?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22mapStyleText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['mapStyle']+'</span><span\x20id\x20=\x20\x22mapStyle\x22\x20class\x20=\x20\x22textButton\x22>'+h['style']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22sectorsText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['sectors']+'</span><span\x20id\x20=\x20\x22sectors\x22\x20class\x20=\x20\x22textButton\x22>'+(W?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22expSectorsText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['expSectors']+'</span><span\x20id\x20=\x20\x22expSectors\x22\x20class\x20=\x20\x22textButton\x22>'+(a3?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22sectorShiftText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['sectorShift']+'</span><span\x20id\x20=\x20\x22sectorShift\x22\x20class\x20=\x20\x22textButton\x22>'+(X?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22translucentText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['translucent']+'</span><span\x20id\x20=\x20\x22translucent\x22\x20class\x20=\x20\x22textButton\x22>'+(Z?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22detectorText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['detector']+'</span><span\x20id\x20=\x20\x22detector\x22\x20class\x20=\x20\x22textButton\x22>'+(a0?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22autoSelectText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['autoSelect']+'</span><span\x20id\x20=\x20\x22autoSelect\x22\x20class\x20=\x20\x22textButton\x22>'+(a1?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22syncText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['sync']+'</span><span\x20id\x20=\x20\x22sync\x22\x20class\x20=\x20\x22textButton\x22>'+(a2?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22languageText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['language']+'</span><span\x20id\x20=\x20\x22language\x22\x20class\x20=\x20\x22textButton\x22>'+i['language']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22pixelsText\x22>'+i['text']['pixels']+'</span><span\x20id\x20=\x20\x22pixels\x22\x20style\x20=\x20\x22textButton\x22>'+T['stat']['pixels']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22pixelsDayText\x22>'+i['text']['pixelsDay']+'</span><span\x20id\x20=\x20\x22pixelsDay\x22\x20style\x20=\x20\x22textButton\x22>'+T['stat']['pixelsDay']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22infoText\x22\x20style\x20=\x20\x22color:grey;\x20font-size:11px;\x22>'+i['text']['info']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';document['body']['appendChild'](ao);window['addEventListener']('unload',()=>localStorage['zoomlevel']=n);(()=>{let cl=aB('infoText')['getElementsByTagName']('a');cl[0x0]['onclick']=()=>window['open']('https://vk.com/endlessnight24');cl[0x1]['onclick']=()=>window['open']('https://vk.com/mlp_pixel');})();z['addEventListener'](l?'touchend':'click',()=>{if(E['innerText']!=0x3)return;if(Q['templates']['length']===0x0)return;let cm;for(let cn=0x0;cn<Q['templates']['length'];cn++){let co=Q['templates'][cn];cm=P[co]['ctx']['getImageData'](F-I[co]['x'],G-I[co]['y'],0x1,0x1)['data'];if(cm[0x3]===0xff)break;};if(aD(...p,cm[0x0],cm[0x1],cm[0x2]))setTimeout(()=>{if(E['innerText']==0x3){aB('pixelsDay')['innerText']=++T['stat']['pixelsDay'];aB('pixels')['innerText']=++T['stat']['pixels'];localStorage['statistics']=btoa(JSON['stringify'](T['stat']));};},0x384);});if(l)aB('detector')['style']['cursor']=aB('detectorText')['style']['cursor']='not-allowed';else window['addEventListener']('keydown',cp=>{let cq=cp['keyCode'];switch(cq){case 0x1b:aB('settingsDiv')['style']['display']='none';break;case 0x30:if(q){q=![];console['log']('Debug\x20is\x20off');}else{q=!![];console['log']('Debug\x20is\x20enabled');};localStorage['debug']=q;break;case 0x31:aA('factions');break;case 0x32:aB('settingsButton')['click']();break;case 0x33:aB('sectors')['click']();break;case 0x34:aB('detector')['click']();break;};});aB('cursorColorText')['onclick']=aB('cursorColor')['onclick']=()=>{let cr=g['indexOf'](U)+0x1;if(cr===g['length'])cr=0x0;localStorage['cursorColor']=aB('cursorColor')['innerText']=aB('cursorColor')['style']['color']=U=g[cr];;az();};aB('gridText')['onclick']=aB('grid')['onclick']=()=>{ak['clearRect'](0x0,0x0,ah['width'],ah['height']);aB('grid')['innerText']=(localStorage['grid']=V=!V)?'On':'Off';az();};aB('mapStyleText')['onclick']=aB('mapStyle')['onclick']=()=>{localStorage['mapStyle']=h['style']=h['style']=='Old'?'New':'Old';ad['style']['width']=h['width']+'px';ad['style']['height']=h['height']+'px';for(let cs of ad['childNodes']){cs['width']=cs['offsetWidth'];cs['height']=cs['offsetHeight'];};aI(ai,![]);aI(aj,![]);a0||a2?aE(m):aE();aB('settingsDiv')['style']='width:\x20'+aB('settingsDiv')['style']['width']+';\x20height:\x20auto;\x20display:\x20'+aB('settingsDiv')['style']['display']+';\x20position:\x20absolute;\x20left:\x20'+aB('settingsDiv')['style']['left']+';\x20top:\x20'+aB('settingsDiv')['style']['top']+';\x20'+h['settings'];aB('minimapbg')['style']=h['minimapbg'];aB('mapStyle')['innerText']=h['style'];az();a4();};aB('sectorsText')['onclick']=aB('sectors')['onclick']=()=>{W=!W;au();W?a4():aj['clearRect'](0x0,0x0,ag['width'],ag['height']);aB('sectors')['innerText']=(localStorage['sectors']=W)?'On':'Off';};aB('settingsDivCancel')['onclick']=()=>aA('settingsDiv');aB('sectorShiftText')['onclick']=aB('sectorShift')['onclick']=()=>{Y=(X=!X)?0.8:0x1;aB('sectorShift')['innerText']=(localStorage['sectorShift']=X)?'On':'Off';a4();};aB('translucentText')['onclick']=aB('translucent')['onclick']=()=>{Z=!Z;aB('translucent')['innerText']=Z?'On':'Off';aB('minimapSectors')['style']['opacity']=h['translucent'][Z];localStorage['translucent']=Z;a4();};if(!l)aB('detectorText')['onclick']=aB('detector')['onclick']=()=>{if(a0=!a0){aB('zoom-minus')['style']['cursor']=aB('zoom-plus')['style']['cursor']='not-allowed';al['updateD']();}else aB('zoom-minus')['style']['cursor']=aB('zoom-plus')['style']['cursor']='pointer';aB('detector')['innerText']=a0?'On':'Off';localStorage['detector']=a0;aE(m);au();as();az();};aB('autoSelectText')['onclick']=aB('autoSelect')['onclick']=()=>{aB('autoSelect')['innerText']=(localStorage['autoSelect']=a1=!a1)?'On':'Off';};aB('languageText')['onclick']=aB('language')['onclick']=function(){let ct=i['availableLan']['indexOf'](i['language'])+0x1;if(ct===i['availableLan']['length'])ct=0x0;localStorage['language']=aB('language')['innerText']=i['language']=i['availableLan'][ct];aB('settingsDiv')['style']['width']=i['width'];for(let cv in i['text']){let cw=aB(cv+'Text');if(cw)cw['innerHTML']=i['text'][cv];};let cu=aB('infoText')['getElementsByTagName']('a');cu[0x0]['onclick']=()=>window['open']('https://vk.com/endlessnight24');cu[0x1]['onclick']=()=>window['open']('https://vk.com/mlp_pixel');};aB('syncText')['onclick']=aB('sync')['onclick']=()=>{(localStorage['sync']=a2=!a2)?aE(m):aE();aB('sync')['innerText']=a2?'On':'Off';au();as();az();};aB('expSectorsText')['onclick']=aB('expSectors')['onclick']=()=>{aB('expSectors')['innerText']=(localStorage['expSectors']=a3=!a3)?'On':'Off';a3||aj['clearRect'](0x0,0x0,af['width'],af['height']);au();a4();};function ap(){let cx=''+v[w]['data']+(v[w]['type']==0x1?'?'+new Date()['getTime']():'');q&&console['log']('Updating\x20Template\x20List\x0aFaction\x20:\x20'+w+'\x0aURL\x20:\x20'+cx);H={};I={};J={};P={};let cy=new XMLHttpRequest();cy['onloadend']=function(){if(this['status']==0xc8){H=JSON['parse'](this['responseText']);for(let cz in H){let cA=H[cz];cA['x']*=0x1;cA['y']*=0x1;cA['width']*=0x1;cA['height']*=0x1;cA['xEnd']=cA['x']+cA['width'];cA['yEnd']=cA['y']+cA['height'];cA['type']==='grid'?J[cz]=cA:I[cz]=cA;};for(let cB of Q['templates'])at(cB,()=>q&&console['log']('Img\x20updated'));for(let cC of Q['grids'])at(cC,()=>q&&console['log']('Grid\x20updated'));q&&console['log']('Update\x20completed',H,I,J);}else console['error']('Error\x20:\x20'+v[w]['data']+'\x0aURL\x20:\x20'+cx+'\x0aStatus\x20:\x20'+this['status']);};cy['open']('GET',cx);cy['send']();};function aq(){if(!M||a0)return;if(a2){localStorage['sync']=a2=![];n=m;aB('sync')['innerText']=a2?'On':'Off';au();};n*=1.1;if(n>0x20){n=0x20;return;};a0?al['updateD']():a2?aE(m):aE();az();a4();setTimeout(aq,O);};function ar(){if(!N||a0)return;if(a2){localStorage['sync']=a2=![];n=m;aB('sync')['innerText']=a2?'On':'Off';au();};n/=1.1;if(n<0x1){n=0x1;return;};a0?al['updateD']():a2?aE(m):aE();az();as();setTimeout(ar,O);};function as(){if(!K||!I)return;Q['grids']=[];Q['templates']=[];for(let cD in I){let cE=I[cD];if(F['between'](cE['x']-j,cE['xEnd']+j)&&G['between'](cE['y']-k,cE['yEnd']+k))if(P[cD])Q['templates'][Q['templates']['length']]=cD;else{at(cD);delete I[cD];};};if(W)for(let cF in J){let cG=J[cF];if(F['between'](cG['x']-j,cG['xEnd']+j)&&G['between'](cG['y']-k,cG['yEnd']+k))if(P[cF])Q['grids'][Q['grids']['length']]=cF;else{at(cF);delete J[cF];};};if(Q['grids']['length']===0x0&&Q['templates']['length']===0x0){if(L&&!M&&!N){L=![];ad['style']['display']='none';ac['style']['display']='block';ac['innerText']='There\x27s\x20nothing\x20here';};}else{if(!L){L=!![];ad['style']['display']='block';ac['style']['display']='none';};if(a6){a6=![];window['requestAnimationFrame'](()=>{a4();a6=!![];});};};};function at(cH,cI){let cJ=new Image(),cK=0x0;cJ['crossOrigin']='';cJ['src']=''+v[w]['images']+cH+'.png';cJ['onerror']=()=>{console['warn']('Download\x20failed\x0asrc\x20:\x20'+cJ['src']+'\x0aName\x20:\x20'+cH);if(H[cH]['type']==='grid')delete J[cH];else delete I[cH];delete H[cH];delete P[cH];};cJ['onload']=()=>{const cL=0x100;let cM=document['createElement']('canvas'),cN=cM['getContext']('2d'),cO=cJ['width'],cP=cJ['height'];cM['width']=cO;cM['height']=cP;cN['drawImage'](cJ,0x0,0x0,cO,cP);let cQ=cN['getImageData'](0x0,0x0,cO,cP),cR=cQ['data'];if(v[w]['chunks']==![]||l||cJ['width']<=cL*1.5&&cJ['height']<=cL*1.5){P[cH]=cM;P[cH]['ctx']=cN;P[cH]['data']=cR;if(H[cH]['type']==='grid')J[cH]=H[cH];else I[cH]=H[cH];console['log'](H,'\x0aName\x20:\x20'+cH+'\x0aType\x20:\x20'+(H[cH]['type']==='grid'?'grid':'image'));cI&&cI();as();return;};let cS=performance['now']();for(let cT=0x0,cU=cL>>0x1;cP-cT>cU;cT+=cL)for(let cV=0x0;cO-cV>cU;cV+=cL){const cW=cH+'_#_'+cV/cL+'_'+cT/cL,cX=cO-cV>=cL?cL:cO-cV,cY=cP-cT>=cL?cL:cP-cT,cZ=cX<<0x2,d0=cZ*cY;let d1=new Uint8ClampedArray(d0),d2=0x0,d3=0x0,d4=null,d5=0x0;for(let d6=0x0,d7=cO<<0x2,d8=cO*cT+cV<<0x2,d9=0x0,da,db;d6!==cY;d6+=0x1){da=d8+d6*d7;db=d9+cZ;while(d9!==db){d1[d9]=cR[da];d9+=0x1;da+=0x1;};};for(let dc=0x3;dc<d0;dc+=0x4)if(d1[dc]!==0x0){d4=~~((dc+0x1)/cZ);break;};if(d4===null)continue;for(let dd=d0-0x1,de=d4*cZ;dd>de;dd-=0x4)if(d1[dd]!==0x0){d5=(dd+0x1)/cZ;d5=cY-(~~d5===d5?d5:~~d5+0x1);break;};fb:for(let df=0x3,dg=d4*cZ,dh=(cX-d5)*cZ;df<cZ;df+=0x4)for(let di=df+dg;di<dh;di+=cZ)if(d1[di]!==0x0){d2=df>>>0x2;break fb;};fc:for(let dj=cZ-0x1,dk=d4*cZ,dl=(cX-d5)*cZ,dm=d2<<0x2;dj>dm;dj-=0x4)for(let dn=dj+dk;dn<dl;dn+=cZ)if(d1[dn]!==0x0){d3=cX-(dj+0x1>>>0x2);break fc;};H[cW]={};H[cW]['x']=H[cH]['x']+cV;H[cW]['y']=H[cH]['y']+cT;P[cW]=document['createElement']('canvas');P[cW]['ctx']=P[cW]['getContext']('2d');if(d4||d5||d2||d3){H[cW]['width']=P[cW]['width']=cX-d2-d3;H[cW]['height']=P[cW]['height']=cY-d4-d5;P[cW]['ctx']['drawImage'](cM,cV+d2,cT+d4,P[cW]['width'],P[cW]['height'],0x0,0x0,P[cW]['width'],P[cW]['height']);H[cW]['x']+=d2;H[cW]['y']+=d4;}else{H[cW]['width']=P[cW]['width']=cX;H[cW]['height']=P[cW]['height']=cY;P[cW]['ctx']['drawImage'](cM,cV,cT,P[cW]['width'],P[cW]['height'],0x0,0x0,P[cW]['width'],P[cW]['height']);};H[cW]['xEnd']=H[cW]['x']+H[cW]['width'];H[cW]['yEnd']=H[cW]['y']+H[cW]['height'];if(H[cH]['type']==='grid')J[cW]=H[cW];else{I[cW]=H[cW];P[cW]['data']=P[cW]['ctx']['getImageData'](0x0,0x0,H[cW]['width'],H[cW]['height'])['data'];};cK++;};console['log'](H,'\x0aName\x20:\x20'+cH+'\x0aType\x20:\x20'+(H[cH]['type']==='grid'?'grid':'image')+'\x0aChunks\x20:\x20'+cK+'\x0aTime\x20:\x20'+(performance['now']()-cS));delete H[cH];delete P[cH];cM=null;cN=null;cQ=null;cR=null;cI&&cI();as();};};function au(){if(a0){if(W||a3)a4=()=>{ay();aw(m);};else a4=ay;}else if(a2){if(W||a3)a4=()=>{av(m);aw(m);};else a4=()=>av(m);}else{if(W||a3)a4=()=>{av();aw();};else a4=av;};};function av(dp=n){ai['clearRect'](0x0,0x0,af['width'],af['height']);for(let dq of Q['templates'])ai['drawImage'](P[dq],~~((I[dq]['x']-r)*dp),~~((I[dq]['y']-s)*dp),~~(P[dq]['width']*dp),~~(P[dq]['height']*dp));};function aw(dr=n){if(a3){ax(dr);return;};aj['clearRect'](0x0,0x0,ag['width'],ag['height']);let ds,dt,du=dr*Y;if(a0){ds=(al['xLeft']-F)/Y+F;dt=(al['yTop']-G)/Y+G;}else{ds=(r-F)/Y+F;dt=(s-G)/Y+G;};for(let dv of Q['grids'])aj['drawImage'](P[dv],~~((J[dv]['x']-ds)*du),~~((J[dv]['y']-dt)*du),~~(P[dv]['width']*du),~~(P[dv]['height']*du));};function ax(dw=n){aj['clearRect'](0x0,0x0,ag['width'],ag['height']);function dx(dL,dM,dN,dO,dP){aj['strokeStyle']='rgb('+dP+')';aj['beginPath']();aj['moveTo'](dL,dM);aj['lineTo'](dN,dO);aj['stroke']();};function dy(dQ,dR){dQ+=0x1000;dR+=0x1000;let dS=~~dR/f,dT=dS%0x24,dU=~~dQ/f,dV=dU%0x24;return((dV<0xa?dV+'':String['fromCharCode'](dV-0xa+0x61))+'z'['repeat'](~~(dU/0x24))+'\x0d\x0a'+((dT<0xa?dT+'':String['fromCharCode'](dT-0xa+0x61))+'z'['repeat'](~~(dS/0x24))))['toUpperCase']();};aj['lineWidth']=~~(dw/0x3);aj['strokeStyle']='rgb(20,20,20)';let dz=(f-r%f)*dw,dA=(f-s%f)*dw,dB=f*dw,dC=f/0x2,dD=af['width']+dw,dE=af['height']+dw,dF=al['hWidth']%dw-dw,dG=al['hHeight']%dw-dw,dH=dz+(dw-dF),dI=dA+(dw-dG),dJ=(~~(r/f)+0x1)*f,dK=(~~(s/f)+0x1)*f;for(let dW=dH,dX=dJ,dY=dG+dE,dZ=dW+dF;dW<dD;dW+=dB,dX+=f,dZ+=dB)dx(dZ,dG,dZ,dY,S['getLine'](dX));for(let e0=dI,e1=dK,e2=dF+dD,e3=e0+dG;e0<dE;e0+=dB,e1+=f,e3+=dB)dx(dF,e3,e2,e3,S['getLine'](e1));if(dw>0x2)return;aj['strokeStyle']='rgb(255,255,255)';aj['fillStyle']='rgb(20,20,20)';aj['font']=~~(f*dw/0x3)+'px\x20fantasy';aj['textBaseline']='top';for(let e4=dH,e5=dJ,e6=dG+dE;e4<dD;e4+=dB,e5+=f)for(let e7=dI,e8=dK,e9=dF+dD,ea=dy(e5,e8);e7<dE;e7+=dB,e8+=f,ea=dy(e5,e8))aj['strokeText'](ea,e4,e7),aj['fillText'](ea,e4,e7);};function ay(eb=m){if(~~eb!==eb)return;let ec,ed=0x0;for(let ej=eb**0x2;ej>0x1;ej>>>=0x1)ed++;ec=ed>>>0x1;R['canvas']['width']=al['width'];R['canvas']['height']=al['height'];let ee,ef;if(Q['templates']['length']===0x1){let ek=Q['templates'][0x0];ee=P[ek]['ctx']['getImageData'](al['xLeft']-I[ek]['x']-0x1,al['yTop']-I[ek]['y']-0x1,al['width'],al['height']);ef=ee['data'];}else{for(let el of Q['templates'])R['ctx']['drawImage'](P[el],al['xLeft']-I[el]['x']-0x1,al['yTop']-I[el]['y']-0x1,al['width'],al['height'],0x0,0x0,al['width'],al['height']);ee=R['ctx']['getImageData'](0x0,0x0,R['canvas']['width'],R['canvas']['height']);ef=ee['data'];};let eg=A['getImageData'](~~(t-(al['width']<<ec>>>0x1)),~~(u-(al['height']<<ec>>>0x1)),~~(al['width']*eb),~~(al['height']*eb))['data'],eh=0x0,ei=eb<<0x2;for(let em=0x0;em<al['sizeRGBA'];em+=al['widthRGBA'])for(let en=em+al['widthRGBA'],eo=em<<ed;eh<en;eh+=0x4,eo+=ei){if(eg[eo+0x3]===0x0)continue;if(aD(ef[eh],ef[eh+0x1],ef[eh+0x2],eg[eo],eg[eo+0x1],eg[eo+0x2])){ef[eh]=ef[eh+0x1]=ef[eh+0x2]=~~((ef[eh]+ef[eh+0x1]+ef[eh+0x2])/0x3);}else{ef[eh]=0xff;ef[eh+0x1]=ef[eh+0x2]=0x0;};};if(eb===0x1){ai['putImageData'](ee,0x0,0x0);}else{R['ctx']['putImageData'](ee,0x0,0x0);ai['clearRect'](0x0,0x0,af['width'],af['height']);ai['drawImage'](R['canvas'],~~(al['borderW']-eb),~~(al['borderH']-eb),~~(al['width']*eb),~~(al['height']*eb));};};function az(ep=n){ak['clearRect'](0x0,0x0,ah['width'],ah['height']);if(a0||a2)ep=m;if(ep<=0x2)return;if(V&&ep>4.6){ak['beginPath']();ak['strokeStyle']='rgb(20,20,20)';let eq=af['width']+ep,er=af['height']+ep,es=al['hWidth']%ep-ep,et=al['hHeight']%ep-ep,eu=eq+es,ev=er+et;ak['lineWidth']=0x1;for(let ew=es;ew<=eq;ew+=ep){ak['moveTo'](ew,et);ak['lineTo'](ew,ev);};for(let ex=et;ex<=er;ex+=ep){ak['moveTo'](es,ex);ak['lineTo'](eu,ex);};ak['stroke']();};ak['beginPath']();ak['lineWidth']=ep/0x3;ak['strokeStyle']=U;ak['rect'](al['hWidth'],al['hHeight'],ep,ep);ak['stroke']();};function aA(ey){if(typeof ey==='string'){let ez=document['getElementById'](ey);ez['style']['display']=ez['style']['display']==='none'?'block':'none';}else if(typeof ey==='object')ey['style']['display']=ey['style']['display']==='none'?'block':'none';};function aB(eA){return document['getElementById'](eA);};function aC(eB){eB['preventDefault']();let eC;eB=eB||window['event'];if(eB['wheelDelta']){eC=eB['wheelDelta'];if(window['opera'])eC=-eC;}else if(eB['detail'])eC=-eB['detail'];eC>0x0&&(a9['lastZoom']*=0x2,m<<=0x1);eC<0x0&&(a9['lastZoom']/=0x2,m>>>=0x1);if(a9['lastZoom']>0x40)a9['lastZoom']=0x40;else{if(a9['lastZoom']<0x1)a9['lastZoom']=0x1;if(a2)a9['smoothZoom'](a9['lastZoom']);else if(a0)a9['setZoom'](m);};};function aD(eD,eE,eF,eG,eH,eI){return(eD>eG?eD-eG:eG-eD)<0x1e&&(eE>eH?eE-eH:eH-eE)<0x1e&&(eF>eI?eF-eI:eI-eF)<0x1e;};function aE(eJ=n){j=al['hWidth']/eJ;k=al['hHeight']/eJ;r=F-al['hWidth']/eJ;s=G-al['hHeight']/eJ;};function aF(eK,eL,eM){z['dispatchEvent'](new MouseEvent(eK,{'clientX':eL,'clientY':eM,'bubbles':!![]}));};function aG(eN,eO){return Math['round'](eN-0.5+Math['random']()*(eO-eN+0x1));};function aH(eP){return eP>0x0?eP:-eP;};function aI(eQ,eR){eQ['mozImageSmoothingEnabled']=eQ['webkitImageSmoothingEnabled']=eQ['msImageSmoothingEnabled']=eQ['imageSmoothingEnabled']=eR;};function aJ(eS){for(let eT=0x0;eT<D['length'];eT++)if(aD(...D[eT],...eS)){C[eT]['click']();break;}};function aK(eU){let eV=document['createElement']('canvas'),eW=eV['getContext']('2d');eV['width']=eV['height']=Math['ceil'](Math['sqrt'](eU['length']/0x4));eV['height']=Math['ceil'](eU['length']/0x4/eV['width']);let eX=eW['getImageData'](0x0,0x0,eV['width'],eV['height']),eY=eX['data'];for(let eZ=0x0;eZ<eU['length'];eZ++){let f0=eU[eZ]['charCodeAt']();if(f0>0xff)console['log'](f0,String['fromCharCode'](f0));eY[eZ]=f0;};for(let f1=0x0,f2=(eV['width']*eV['height']<<0x2)-eU['length'];f1<f2;f1++)eY[f1+eU['length']]=0x0;eW['putImageData'](eX,0x0,0x0);console['log'](eY);aM(eV,'stringImg');return eV;};function aL(f3){let f4=[];for(let f5=0x0,f6;f5<f3['length'];f5++){if(f3[f5]===0xff){f6=0xff;while(f3[f5+0x1]===0xff)f6+=f3[++f5];f4['push'](String['fromCharCode'](f6));}else f4['push'](String['fromCharCode'](f3[f5]));};return f4;};function aM(f7,f8=void 0x0){let f9=document['createElement']('a');f9['href']=f7['toDataURL']('image/png');f9['download']=f8;f9['click']();};};function checkNeededElems(){return window&&document['getElementById']('canvas')&&document['getElementById']('coordinatesNote')&&document['getElementById']('colorSampleSelector')&&document['getElementsByClassName']('palette-color-box');};function tryInit(){console['log']('Try\x20to\x20init...');if(checkNeededElems())initNLRM();else setTimeout(tryInit,0x14d);};if(window['loaded'])tryInit();else{function inject(){let fa=document['createElement']('script');fa['appendChild'](document['createTextNode']('('+tryInit+')();'+checkNeededElems+';'+initNLRM));(document['body']||document['head'])['appendChild'](fa);};if(document['readyState']==='complete')inject();else window['addEventListener']('load',inject);};

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,d){a.raw=d;return a};$jscomp.arrayIteratorImpl=function(a){var d=0;return function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var d="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return d?d.call(a):$jscomp.arrayIterator(a)};
(function(){function a(){for(var b=[],c=0;6!==c;c++)b[c]=document.getElementById("canvas-captcha-"+c+"-data");return b}function d(){for(var b=[],c=0;6!==c;c++)b[c]=document.getElementById("canvas-captcha-"+c+"-model");return b}function m(b){var c=b.getContext("2d"),a=c.getImageData(0,0,b.width,b.height),f=a.data,e,d,n=function(a,c,d){e=a+c*b.width<<2;a=$jscomp.makeIterator(d);f[e]=a.next().value;f[e+1]=a.next().value;f[e+2]=a.next().value;return d},g=function(a,c){return d=(e=a+c*b.width<<2,[f[e],
f[e+1],f[e+2]]),220>d[0]||220>d[1]||220>d[2]},m=function(a,b){return g(a-1,b-1)||g(a-1,b+1)||g(a-1,b)||g(a,b-1)||g(a,b+1)||g(a+1,b-1)||g(a+1,b)||g(a+1,b+1)},h,k;for(h=0;h!==b.width;h++)for(k=0;k!==b.height;k++){m(h,k)||n(h,k,[220,220,220]);var p=(e=h+k*b.width<<2,[f[e],f[e+1],f[e+2]]);l(p,q)||l(p,[0,0,0])||n(h,k,q);l(p,q)||n(h,k,[0,0,0])}c.putImageData(a,0,0)}function l(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]}var q=[220,220,220];setInterval(function(){var b=document.getElementById("alert-dialog-title");
if(b&&"true"!==b.getAttribute("done")){var c=a(),l=d();c.forEach(function(a){return m(a)});l.forEach(function(a){return m(a)});b.setAttribute("done","true")}},250)})();
